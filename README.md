# Web_chi_tieu_ca_nhan
## ğŸ‘¤ ThÃ´ng Tin CÃ¡ NhÃ¢n
* **Há» vÃ  tÃªn**: Nguyá»…n ÄÃ¬nh Hiáº¿u

* **MÃ£ sinh viÃªn**: 23010827

* **Lá»›p**: CNTT_9

* **MÃ´n há»c**: XÃ¢y dá»±ng Web nÃ¢ng cao (TH3)
## Má»¥c Ä‘Ã­ch nghiÃªn cá»©u
* Má»¥c Ä‘Ã­ch chÃ­nh cá»§a Ä‘á» tÃ i nÃ y lÃ  phÃ¡t triá»ƒn má»™t á»©ng dá»¥ng quáº£n lÃ½ chi tiÃªu cÃ¡ nhÃ¢n hiá»‡u quáº£, nháº±m giÃºp ngÆ°á»i dÃ¹ng theo dÃµi, kiá»ƒm soÃ¡t vÃ  láº­p káº¿ hoáº¡ch chi tiÃªu má»™t cÃ¡ch thÃ´ng minh vÃ  hiá»‡u quáº£. Má»™t trong nhá»¯ng má»¥c tiÃªu quan trá»ng nháº¥t lÃ  xÃ¢y dá»±ng má»™t á»©ng dá»¥ng dá»… dÃ ng sá»­ dá»¥ng. Viá»‡c thiáº¿t káº¿ giao diá»‡n vÃ  tráº£i nghiá»‡m cá»§a ngÆ°á»i dÃ¹ng lÃ  yáº¿u tá»‘ quan trá»ng giÃºp tÄƒng cÆ°á»ng tÃ­nh tiáº¿p cáº­n vÃ  sá»‘ lÆ°á»£ng sá»­ dá»¥ng cá»§a ngÆ°á»i dÃ¹ng.

* NgoÃ i ra á»©ng dá»¥ng cÅ©ng cáº§n tÃ­ch há»£p cÃ¡c tÃ­nh nÄƒng cáº§n thiáº¿t Ä‘á»ƒ há»— trá»£ ngÆ°á»i dung trong viá»‡c quáº£n lÃ½ tÃ i chÃ­nh cÃ¡ nhÃ¢n. CÃ¡c tÃ­nh nÄƒng nÃ y cÃ³ thá»ƒ bao gá»“m: 

 - Kháº£ nÄƒng nháº­p thÃ´ng tin chi tiÃªu dá»… dÃ ng vÃ  nhanh chÃ³ng.

 - TÃ­nh nÄƒng tá»± Ä‘á»™ng phÃ¢n loáº¡i cÃ¡c khoáº£n chi tiÃªu theo danh má»¥c khÃ¡c nhau (vÃ­ dá»¥: Äƒn uá»‘ng, Ä‘i láº¡i, giáº£i trÃ­,â€¦).

 - Kháº£ nÄƒng thiáº¿t láº­p má»¥c tiÃªu tiáº¿t kiá»‡m vÃ  theo dÃµi tiáº¿n Ä‘á»™ Ä‘á»‘i vá»›i cÃ¡c má»¥c tiÃªu nÃ y.

 - Cung cáº¥p cÃ¡c bÃ¡o cÃ¡o, phÃ¢n tÃ­ch chi tiÃªu Ä‘á»ƒ ngÆ°á»i dÃ¹ng hiá»ƒu rÃµ hÆ¡n vá» mÃ´ hÃ¬nh chi tiÃªu cá»§a mÃ¬nh vÃ  tá»« Ä‘Ã³ cÃ³ thá»ƒ Ä‘Æ°a ra cÃ¡c quyáº¿t Ä‘á»‹nh tÃ i chÃ­nh thÃ´ng minh hÆ¡n trong tÆ°Æ¡ng lai.

* VÃ  cuá»‘i cÃ¹ng má»¥c tiÃªu cá»§a viá»‡c nghiÃªn cá»©u lÃ  táº¡o ra á»©ng dá»¥ng cÃ³ kháº£ nÄƒng thÃºc Ä‘áº©y sá»± thay Ä‘á»•i hÃ nh vi tÃ i chÃ­nh tÃ­ch cá»±c cho ngÆ°á»i dÃ¹ng. Báº±ng cÃ¡ch cung cáº¥p cÃ¡c cÃ´ng cá»¥ vÃ  thÃ´ng tin phÃ¹ há»£p, á»©ng dá»¥ng sáº½ giÃºp ngÆ°á»i dÃ¹ng xÃ¢y dá»±ng vÃ  duy trÃ¬ cÃ¡c thÃ³i quen quáº£n lÃ½ tÃ i chÃ­nh lÃ nh máº¡nh, tá»« Ä‘Ã³ giÃºp há» Ä‘áº¡t Ä‘Æ°á»£c sá»± á»•n Ä‘á»‹nh tÃ i chÃ­nh vÃ  tiáº¿n gáº§n Ä‘áº¿n cÃ¡c má»¥c tiÃªu cÃ¡ nhÃ¢n.
## Äá»‘i tÆ°á»£ng vÃ  pháº¡m vi nghiÃªn cá»©u
*	Äá»‘i tÆ°á»£ng nghiÃªn cá»©u: Há»‡ thá»‘ng á»©ng dá»¥ng quáº£n lÃ½ chi tiÃªu.

*	Äá»‘i tÆ°á»£ng sá»­ dá»¥ng: CÃ¡c cÃ¡ nhÃ¢n cÃ³ nhu cáº§u quáº£n lÃ½ chi tiÃªu cÃ¡ nhÃ¢n.

*	Pháº¡m vi nghiÃªn cá»©u: Táº­p trung vÃ o phÃ¡t triá»ƒn cÃ¡c tÃ­nh nÄƒng quáº£n lÃ½ chi tiÃªu cÆ¡ báº£n vÃ  má»Ÿ rá»™ng Ä‘á»ƒ Ä‘Ã¡p á»©ng cÃ¡c nhu cáº§u Ä‘áº·c biá»‡t cá»§a ngÆ°á»i dÃ¹ng.
## Há»‡ thá»‘ng sá»­ dá»¥ng
* PHP (Laravel framework)

* Laravel Breeze
  
* MySQL (Aiven Cloud)
  
* Eloquent ORM (Há»‡ thá»‘ng ORM giÃºp tÆ°Æ¡ng tÃ¡c vá»›i CSDL)
  
* Frontend & UI (Blade engine, Tailwind CSS, Bootstrap 5)
  
* Laravel Security (Framework há»— trá»£)
  
* AJAX JQuery (Phá»¥c vá»¥ tÃ¬m kiáº¿m)
## SÆ¡ Ä‘á»“ usecase tá»•ng quÃ¡t
* SÆ¡ Ä‘á»“ tá»•ng quÃ¡t

  ![image](https://github.com/user-attachments/assets/80b1f9b4-1fc1-499b-b870-52ee8224e8e6)
  
* Sá»­ dá»¥ng há»‡ thá»‘ng
  
  ![image](https://github.com/user-attachments/assets/c0549c99-5dcc-4dda-9da7-01e470d419f3)

## Äáº·c táº£ chá»©c nÄƒng
* Chá»©c nÄƒng quáº£n lÃ½ hoáº¡t Ä‘á»™ng chi tiÃªu

![image](https://github.com/user-attachments/assets/e14a7706-9e39-41fa-a966-911edffa9daf)

* Chá»©c nÄƒng quáº£n lÃ½ hoáº¡t Ä‘á»™ng thu nháº­p

![image](https://github.com/user-attachments/assets/047c2495-de7d-4fb7-bf83-c2613265ff3a)

* Chá»©c nÄƒng quáº£n lÃ½ cÃ¡c nguá»“n thu nháº­p

![image](https://github.com/user-attachments/assets/459f760e-be04-4871-aa3d-42e32567a307)

* Chá»©c nÄƒng quáº£n lÃ½ cÃ¡c nguá»“n chi tiÃªu

![image](https://github.com/user-attachments/assets/eef5704d-9529-4660-97da-3befd054a7eb)


## SÆ¡ Ä‘á»“ tuáº§n tá»± 
* SÆ¡ Ä‘á»“ giao diá»‡n ngÆ°á»i dÃ¹ng

![image](https://github.com/user-attachments/assets/a53b9434-2958-4313-b41e-d53d4e0499ca)

* SÆ¡ Ä‘á»“ giao diá»‡n quáº£n lÃ½ chi tiÃªu

![image](https://github.com/user-attachments/assets/478a7458-0ebc-4066-9c00-dd32cab009b6)

* SÆ¡ Ä‘á»“ giao diá»‡n quáº£n lÃ½ thu nháº­p

![image](https://github.com/user-attachments/assets/ed79df02-0ce6-4b34-b4a1-38e6a9ed5ed0)

* SÆ¡ Ä‘á»“ quáº£n lÃ½ cÃ¡c loáº¡i thu

![image](https://github.com/user-attachments/assets/eacad4b9-0380-4d9d-8516-914ee064104f)

* SÆ¡ Ä‘á»“ quáº£n lÃ½ cÃ¡c loáº¡i chi

![image](https://github.com/user-attachments/assets/aa096d5e-57ad-4c58-83ca-3068942117fd)

* Link README.MD: https://hieudinhnguyen.github.io/Web_chi_tieu_ca_nhan/

* Link Repo: https://github.com/HieuDinhNguyen/Web_chi_tieu_ca_nhan

## CÃ¡c Ä‘á»‘i tÆ°á»£ng
* Expense
```markdown
namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Factories\HasFactory;

class Expense extends Model
{
    use HasFactory;

    protected $fillable = ['description', 'amount', 'date', 'expense_category_id'];

    public function category()
    {
        return $this->belongsTo(ExpenseCategory::class, 'expense_category_id');
    }
}
```

* ExpenseCategory
```markdown
namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Factories\HasFactory;

class ExpenseCategory extends Model
{
    use HasFactory;
    protected $fillable = [
        'name'
    ];
    public function expenses()
    {
        return $this->hasMany(Expense::class);
    }
}
```

* Income
```markdown
namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Factories\HasFactory;

class Income extends Model
{
    use HasFactory;
    protected $fillable = [
        'description',
        'amount',
        'date'
    ];
    public function category()
    {
        return $this->belongsTo(IncomeCategory::class, 'income_category_id');
    }
}
```

* IncomeCategory
```markdown
namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Factories\HasFactory;

class IncomeCategory extends Model
{
    use HasFactory;
    protected $fillable = [
        'name'
    ];
    public function incomes()
    {
        return $this->hasMany(Income::class);
    }
}
```
## XÃ¢y dá»±ng CRUD cho cÃ¡c Ä‘á»‘i tÆ°á»£ng
* ExpenseController
```markdown
namespace App\Http\Controllers;

use Illuminate\Http\Request;
use App\Models\Expense;
use App\Models\ExpenseCategory;
use Exception;


class ExpenseController extends Controller
{
    public function index()
    {
        $expenses = Expense::with('category')->latest()->get();
        return view('Expense.index', compact('expenses'));
    }

    // Hiá»ƒn thá»‹ form thÃªm má»›i
    public function create()
    {
        $categories = ExpenseCategory::all();
        return view('Expense.create', compact('categories'));
    }

    // LÆ°u chi tiÃªu má»›i
    public function store(Request $request)
    {
        $validated = $request->validate([
            'description' => 'required|string|max:255',
            'amount' => 'required|numeric|min:0',
            'date' => 'required|date',
            'expense_category_id' => 'required|exists:expense_categories,id',
        ]);

        try {
            Expense::create($validated);
            return redirect()->route('Expense.index')->with('success', 'ThÃªm chi tiÃªu thÃ nh cÃ´ng!');
        } catch (Exception $e) {
            return redirect()->back()->with('error', 'KhÃ´ng thá»ƒ thÃªm chi tiÃªu.');
        }
    }

    // Hiá»ƒn thá»‹ form sá»­a
    public function edit($id)
    {
        $expense = Expense::findOrFail($id);
        $categories = ExpenseCategory::all();
        return view('Expense.edit', compact('expense', 'categories'));
    }

    // Cáº­p nháº­t chi tiÃªu
    public function update(Request $request, $id)
    {
        $expense = Expense::findOrFail($id);

        $validated = $request->validate([
            'description' => 'required|string|max:255',
            'amount' => 'required|numeric|min:0',
            'date' => 'required|date',
            'expense_category_id' => 'required|exists:expense_categories,id',
        ]);

        try {
            $expense->update($validated);
            return redirect()->route('Expense.index')->with('success', 'Cáº­p nháº­t chi tiÃªu thÃ nh cÃ´ng!');
        } catch (Exception $e) {
            return redirect()->back()->with('error', 'KhÃ´ng thá»ƒ cáº­p nháº­t chi tiÃªu.');
        }
    }

    // XoÃ¡ chi tiÃªu
    public function destroy($id)
    {
        $expense = Expense::findOrFail($id);

        try {
            $expense->delete();
            return redirect()->route('Expense.index')->with('success', 'XoÃ¡ chi tiÃªu thÃ nh cÃ´ng!');
        } catch (Exception $e) {
            return redirect()->back()->with('error', 'KhÃ´ng thá»ƒ xoÃ¡ chi tiÃªu.');
        }
    }

    // Hiá»ƒn thá»‹ chi tiáº¿t chi tiÃªu
    public function show($id)
    {
        $expense = Expense::with('category')->findOrFail($id);
        return view('Expense.show', compact('expense'));
    }
}
```

* ExpenseCategoryController
```markdown
namespace App\Http\Controllers;

use Illuminate\Http\Request;
use App\Models\ExpenseCategory;

class ExpenseCategoryController extends Controller
{
    public function index()
    {
        $categories = ExpenseCategory::all();
        return view('ExpenseCategory.index', compact('categories'));
    }

    public function create()
    {
        return view('ExpenseCategory.create');
    }

    public function store(Request $request)
    {
        $request->validate([
            'name' => 'required|string|max:255',
        ]);

        ExpenseCategory::create($request->only('name'));

        return redirect()->route('ExpenseCategory.index')->with('success', 'Danh má»¥c Ä‘Ã£ Ä‘Æ°á»£c thÃªm.');
    }

    public function edit(ExpenseCategory $expenseCategory)
    {
        return view('ExpenseCategory.edit', compact('expenseCategory'));
    }

    public function update(Request $request, ExpenseCategory $expenseCategory)
    {
        $request->validate([
            'name' => 'required|string|max:255',
        ]);

        $expenseCategory->update($request->only('name'));

        return redirect()->route('ExpenseCategory.index')->with('success', 'Cáº­p nháº­t thÃ nh cÃ´ng.');
    }

    public function destroy(ExpenseCategory $expenseCategory)
    {
        $expenseCategory->delete();
        return redirect()->route('ExpenseCategory.index')->with('success', 'ÄÃ£ xoÃ¡ danh má»¥c.');
    }

    public function show(ExpenseCategory $expenseCategory)
    {
        return view('ExpenseCategory.show', compact('expenseCategory'));
    }
}
```
* IncomeController
```markdown
namespace App\Http\Controllers;

use Illuminate\Http\Request;
use App\Models\Income;
use App\Models\IncomeCategory;

class IncomeController extends Controller
{
    public function index()
    {
        $incomes = Income::with('category')->latest()->paginate(10);
        return view('Income.index', compact('incomes'));
    }

    public function create()
    {
        $categories = IncomeCategory::all();
        return view('Income.create', compact('categories'));
    }

    public function store(Request $request)
    {
        $request->validate([
            'description' => 'nullable|string|max:255',
            'amount' => 'required|numeric|min:0',
            'date' => 'required|date',
            'income_category_id' => 'required|exists:income_categories,id',
        ]);

        Income::create($request->all());

        return redirect()->route('Income.index')->with('success', 'Thu nháº­p Ä‘Ã£ Ä‘Æ°á»£c thÃªm.');
    }

    public function show(Income $income)
    {
        return view('Income.show', compact('income'));
    }

    public function edit(Income $income)
    {
        $categories = IncomeCategory::all();
        return view('Income.edit', compact('income', 'categories'));
    }

    public function update(Request $request, Income $income)
    {
        $request->validate([
            'description' => 'nullable|string|max:255',
            'amount' => 'required|numeric|min:0',
            'date' => 'required|date',
            'income_category_id' => 'required|exists:income_categories,id',
        ]);

        $income->update($request->all());

        return redirect()->route('Income.index')->with('success', 'Thu nháº­p Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t.');
    }

    public function destroy(Income $income)
    {
        $income->delete();
        return redirect()->route('Income.index')->with('success', 'Thu nháº­p Ä‘Ã£ Ä‘Æ°á»£c xoÃ¡.');
    } 

}
```
* IncomeCategoryController
```markdown
namespace App\Http\Controllers;

use Illuminate\Http\Request;
use App\Models\IncomeCategory;

class IncomeCategoryController extends Controller
{
    public function index()
    {
        $categories = IncomeCategory::withCount('incomes')->get();
        return view('IncomeCategory.index', compact('categories'));
    }

    public function create()
    {
        return view('IncomeCategory.create');
    }

    public function store(Request $request)
    {
        $request->validate(['name' => 'required|string|max:255']);
        IncomeCategory::create($request->only('name'));

        return redirect()->route('IncomeCategory.index')->with('success', 'ÄÃ£ thÃªm danh má»¥c.');
    }

    public function show(IncomeCategory $incomeCategory)
    {
        $incomeCategory->load('incomes');
        return view('IncomeCategory.show', compact('incomeCategory'));
    }

    public function edit(IncomeCategory $incomeCategory)
    {
        return view('IncomeCategory.edit', compact('incomeCategory'));
    }

    public function update(Request $request, IncomeCategory $incomeCategory)
    {
        $request->validate(['name' => 'required|string|max:255']);
        $incomeCategory->update($request->only('name'));

        return redirect()->route('IncomeCategory.index')->with('success', 'ÄÃ£ cáº­p nháº­t.');
    }

    public function destroy(IncomeCategory $incomeCategory)
    {
        $incomeCategory->delete();
        return redirect()->route('IncomeCategory.index')->with('success', 'ÄÃ£ xoÃ¡ danh má»¥c.');
    }
}
```
## Project Ä‘áº£m báº£o cÃ¡c yÃªu cáº§u security
```markdown
@csrf @method('PUT')

                    <div class="mb-3">
                        <label class="form-label">MÃ´ táº£</label>
                        <input type="text" name="description" class="form-control" value="{{ old('description', $expense->description) }}">
                    </div>
```
* CÃ³ báº£o máº­t XSS vÃ  CSRF: Laravel sá»­ dá»¥ng token CSRF tá»± Ä‘á»™ng Ä‘á»ƒ báº£o vá»‡ form khá»i bá»‹ gá»­i tá»« site bÃªn ngoÃ i

                          Laravel sá»­ dá»¥ng {{ }} (escaped output), tá»± Ä‘á»™ng chuyá»ƒn kÃ½ tá»± nguy hiá»ƒm sang HTML entity

